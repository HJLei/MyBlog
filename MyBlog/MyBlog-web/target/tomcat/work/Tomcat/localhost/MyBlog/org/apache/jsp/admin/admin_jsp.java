/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.37
 * Generated at: 2018-01-21 12:51:34 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.admin;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class admin_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("    <title>博文后台管理</title>\r\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/layui/css/layui.css\">\r\n");
      out.write("    <script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/js/bootstrap/jquery-3.2.1.min.js\" type=\"text/javascript\"></script>\r\n");
      out.write("    <script src=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/layui/layui.js\" type=\"text/javascript\"></script>\r\n");
      out.write("</head>\r\n");
      out.write("<body class=\"layui-layout-body\">\r\n");
      out.write("<div class=\"layui-layout layui-layout-admin\">\r\n");
      out.write("    <div class=\"layui-header\">\r\n");
      out.write("        <div class=\"layui-logo\">个人博客后台管理</div>\r\n");
      out.write("        <!-- 头部区域（可配合layui已有的水平导航） -->\r\n");
      out.write("        <ul class=\"layui-nav layui-layout-left\">\r\n");
      out.write("            <li class=\"layui-nav-item\"><a href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/index.jsp\">前台界面</a></li>\r\n");
      out.write("            <li class=\"layui-nav-item\"><a href=\"\">信息管理</a></li>\r\n");
      out.write("            <li class=\"layui-nav-item\"><a href=\"\">用户</a></li>\r\n");
      out.write("            <li class=\"layui-nav-item\">\r\n");
      out.write("                <a href=\"javascript:;\">其它系统</a>\r\n");
      out.write("                <dl class=\"layui-nav-child\">\r\n");
      out.write("                    <dd><a href=\"\">邮件管理</a></dd>\r\n");
      out.write("                    <dd><a href=\"\">消息管理</a></dd>\r\n");
      out.write("                    <dd><a href=\"\">授权管理</a></dd>\r\n");
      out.write("                </dl>\r\n");
      out.write("            </li>\r\n");
      out.write("        </ul>\r\n");
      out.write("        <ul class=\"layui-nav layui-layout-right\">\r\n");
      out.write("            <li class=\"layui-nav-item\">\r\n");
      out.write("                <a href=\"javascript:;\">\r\n");
      out.write("                    <img src=\"http://t.cn/RCzsdCq\" class=\"layui-nav-img\">\r\n");
      out.write("                    君无戏言\r\n");
      out.write("                </a>\r\n");
      out.write("                <dl class=\"layui-nav-child\">\r\n");
      out.write("                    <dd><a href=\"\">基本资料</a></dd>\r\n");
      out.write("                    <dd><a href=\"\">安全设置</a></dd>\r\n");
      out.write("                </dl>\r\n");
      out.write("            </li>\r\n");
      out.write("            <li class=\"layui-nav-item\"><a href=\"\">退了</a></li>\r\n");
      out.write("        </ul>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <div class=\"layui-side layui-bg-black\">\r\n");
      out.write("        <div class=\"layui-side-scroll\">\r\n");
      out.write("            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->\r\n");
      out.write("            <ul class=\"layui-nav layui-nav-tree\"  lay-filter=\"test\">\r\n");
      out.write("                <li class=\"layui-nav-item layui-nav-itemed\">\r\n");
      out.write("                    <a class=\"\" href=\"javascript:;\">博文</a>\r\n");
      out.write("                    <dl class=\"layui-nav-child\">\r\n");
      out.write("                        <dd><a href=\"javascript:;\" id=\"jsPswEdit\">添加文章</a></dd>\r\n");
      out.write("                        <dd><a href=\"javascript:;\" id=\"reviewReview\">评论审核</a></dd>\r\n");
      out.write("                        <dd><a href=\"javascript:;\">文章列表</a></dd>\r\n");
      out.write("                        <dd><a href=\"\">超链接</a></dd>\r\n");
      out.write("                    </dl>\r\n");
      out.write("                </li>\r\n");
      out.write("                <li class=\"layui-nav-item\">\r\n");
      out.write("                    <a href=\"javascript:;\">个人中心</a>\r\n");
      out.write("                    <dl class=\"layui-nav-child\">\r\n");
      out.write("                        <dd><a href=\"javascript:revisingPersonalData();\">个人资料</a></dd>\r\n");
      out.write("                        <dd><a href=\"javascript:notice();\">公告</a></dd>\r\n");
      out.write("                        <dd><a href=\"javascript:test();\">超链接</a></dd>\r\n");
      out.write("                    </dl>\r\n");
      out.write("                </li>\r\n");
      out.write("                <li class=\"layui-nav-item\"><a href=\"\" target=\"\">菜单3</a></li>\r\n");
      out.write("                <!--<li class=\"layui-nav-item\"><a href=\"demo2.html\" target=\"myframe\">云市场</a></li>-->\r\n");
      out.write("                <li class=\"layui-nav-item\"><a href=\"\">菜单4</a></li>\r\n");
      out.write("            </ul>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <div class=\"layui-body\">\r\n");
      out.write("        <!-- 内容主体区域 -->\r\n");
      out.write("        <div style=\"padding: 15px;\" id=\"myBody\">个人博客后台管理界面</div>\r\n");
      out.write("        <!--<iframe name=\"myframe\" width=\"1160\" height=\"500\"></iframe>-->\r\n");
      out.write("\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <div class=\"layui-footer\">\r\n");
      out.write("        <!-- 底部固定区域 -->\r\n");
      out.write("        © 万场快乐千场醉，世上闲人地上仙。\r\n");
      out.write("    </div>\r\n");
      out.write("</div>\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
      out.write("<script>\r\n");
      out.write("    //JavaScript代码区域\r\n");
      out.write("    var carousel;\r\n");
      out.write("    var form;\r\n");
      out.write("    var layedit,$;\r\n");
      out.write("    layui.use(['element','carousel','form','layedit'], function(){\r\n");
      out.write("        var element = layui.element;\r\n");
      out.write("        carousel = layui.carousel;\r\n");
      out.write("        form = layui.form;\r\n");
      out.write("\r\n");
      out.write("        layedit = layui.layedit,$ = layui.jquery;\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    //加载添加文章界面\r\n");
      out.write("    $('#jsPswEdit').bind(\"click\", function(){\r\n");
      out.write("        //$(\"#myBody\").load(\"demo2.html\");\r\n");
      out.write("        $(\"#myBody\").load(\"addArticle.jsp\");\r\n");
      out.write("    });\r\n");
      out.write("    //加载评论审核界面\r\n");
      out.write("    $('#reviewReview').bind(\"click\", function(){\r\n");
      out.write("        $(\"#myBody\").load(\"reviewReview.jsp\");\r\n");
      out.write("\r\n");
      out.write("        $(\"#tab tr:not(:first)\").remove();\r\n");
      out.write("        $.post(\"commentAction_commentList\",\"\",function(data){\r\n");
      out.write("            $.each(data.commentList,function(i,v){\r\n");
      out.write("                var tr=\"<tr>\";\r\n");
      out.write("                tr+=\"<td>\"+v[0]+\"</td>\";\r\n");
      out.write("                tr+=\"<td>\"+v[1].substring(0,10)+\"</td>\";\r\n");
      out.write("                tr+=\"<td>\"+v[2]+\"</td>\";\r\n");
      out.write("                tr+=\"<td>\"+(v[3]==1?\"通过\":\"<a href='javascript:doAdopt(\"+v[4]+\");' class=cls\"+v[4]+\" ><span>点击可通过审核</span><a>\")+\"</td>\";\r\n");
      out.write("                $(\"#tab\").append(tr);\r\n");
      out.write("            });\r\n");
      out.write("        },\"json\");\r\n");
      out.write("    });\r\n");
      out.write("    //异步审核评论\r\n");
      out.write("    function doAdopt(id){\r\n");
      out.write("        if ($(\".cls\"+id+\" span\").text()===\"点击可通过审核\"){\r\n");
      out.write("            if(confirm(\"确定要通过审核吗？\")) {\r\n");
      out.write("                $.post(\"commentAction_updateComment\",\"comment.cno=\"+id,function(data){\r\n");
      out.write("                    if(data.msg==1){\r\n");
      out.write("                        $(\".cls\"+id+\" span\").text(\"通过\").css(\"color\",\"#666666\");\r\n");
      out.write("                    }else{\r\n");
      out.write("                        alert(\"审核不通过！\");\r\n");
      out.write("                    }\r\n");
      out.write("                },\"json\");\r\n");
      out.write("                return true;\r\n");
      out.write("            } else {\r\n");
      out.write("                return false;\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    }\r\n");
      out.write("    //加载修改个人资料界面\r\n");
      out.write("    function revisingPersonalData() {\r\n");
      out.write("        $(\"#myBody\").load(\"revisingPersonalData.jsp\");\r\n");
      out.write("        $.post(\"userAction_findMyInfo\",\"\",function(data){\r\n");
      out.write("            $.each(data.ulist,function(i,v){\r\n");
      out.write("                $(\"#bname\").val(v.bname);\r\n");
      out.write("                $(\"#bemail\").val(v.bemail);\r\n");
      out.write("                $(\"#bAddress\").val(v.bAddress);\r\n");
      out.write("                $(\"#bsign\").val(v.bsign);\r\n");
      out.write("                $(\"#state\").val(v.state);\r\n");
      out.write("               // $(\"#myImage\").val(v.bimage);\r\n");
      out.write("                $(\"#bno\").val(v.bno);\r\n");
      out.write("                $(\"#bpwd\").val(v.bpwd);\r\n");
      out.write("                $(\"#bnickName\").val(v.bnickName);\r\n");
      out.write("                var hobby = v.bhobby.split(',');\r\n");
      out.write("                var hobbys = $(\":checkbox\");//所有复选框\r\n");
      out.write("                for (var i = 0; i < hobbys.length; i++) {\r\n");
      out.write("                    if(hobby.indexOf(hobbys[i].title)>=0){\r\n");
      out.write("                        hobbys[i].checked=true;\r\n");
      out.write("                        form.render('checkbox');\r\n");
      out.write("                    }\r\n");
      out.write("                }\r\n");
      out.write("\r\n");
      out.write("                var bSex=v.bSex;\r\n");
      out.write("                var sex=$(\":radio\").val();\r\n");
      out.write("                if (bSex===sex){\r\n");
      out.write("                    $(\"input[type='radio'][name='user.bSex']\").get(0).checked = true;\r\n");
      out.write("                    form.render('radio');\r\n");
      out.write("                }else {\r\n");
      out.write("                    $(\"input[type='radio'][name='user.bSex']\").get(1).checked = true;\r\n");
      out.write("                    form.render('radio');\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("        },\"json\");\r\n");
      out.write("    }\r\n");
      out.write("//    function updateUser() {\r\n");
      out.write("//        var param=$(\"#updateUser\").serialize();\r\n");
      out.write("//        $.post(\"userAction_updateUser\",param,function(data){\r\n");
      out.write("//            if(data.msg==2){\r\n");
      out.write("//                alert(\"OK\");\r\n");
      out.write("//            }else{\r\n");
      out.write("//                alert(\"error\");\r\n");
      out.write("//            }\r\n");
      out.write("//        });\r\n");
      out.write("//    }\r\n");
      out.write("    function updateUser() {\r\n");
      out.write("        var formData = new FormData($( \"#updateUser\" )[0]);\r\n");
      out.write("        $.ajax({\r\n");
      out.write("            url: 'userAction_updateUser' ,\r\n");
      out.write("            type: 'POST',\r\n");
      out.write("            data: formData,\r\n");
      out.write("            async: false,\r\n");
      out.write("            cache: false,\r\n");
      out.write("            contentType: false,\r\n");
      out.write("            processData: false,\r\n");
      out.write("            success: function (returndata) {\r\n");
      out.write("                alert(\"操作成功！\");\r\n");
      out.write("            },\r\n");
      out.write("            error: function (returndata) {\r\n");
      out.write("                alert(\"操作失败！\");\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("    }\r\n");
      out.write("    function notice() {\r\n");
      out.write("        $(\"#myBody\").load(\"layedit.jsp\");\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    function test() {\r\n");
      out.write("        $(\"#myBody\").load(\"test.jsp\");\r\n");
      out.write("        $.post(\"noticeAction_noticeList\",\"\",function(data){\r\n");
      out.write("            $.each(data.noticeList,function(i,v){\r\n");
      out.write("                var cody=v.code;\r\n");
      out.write("                var title=v.title;\r\n");
      out.write("                $(\"#mTitle\").html(title);\r\n");
      out.write("                $(\"#myCody\").html(cody);\r\n");
      out.write("            });\r\n");
      out.write("        },\"json\");\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
